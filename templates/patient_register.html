<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patient Register</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen">
  <form method="POST" class="bg-gray-800 p-8 rounded-xl shadow-xl w-96">
    {% csrf_token %}
    <h2 class="text-2xl font-bold mb-4 text-center">Patient Registration</h2>

    {% for message in messages %}
      <div class="bg-red-500 p-2 mb-2 text-center rounded">{{ message }}</div>
    {% endfor %}

    <input name="patient_id" placeholder="Patient ID" class="w-full p-3 mb-3 rounded text-black" required>
    <input name="name" placeholder="Full Name" class="w-full p-3 mb-3 rounded text-black" required>
    <input name="username" placeholder="Username" class="w-full p-3 mb-3 rounded text-black" required>
    <input type="password" name="password" placeholder="Password" class="w-full p-3 mb-3 rounded text-black" required>

    <button class="bg-green-600 w-full py-2 rounded hover:bg-green-700">Register</button>
  </form>

  <!-- Mobile floating create menu -->
  <div class="mobile-create" id="mobileCreate">
    <div class="menu" id="mobileCreateMenu" style="display:none">
      <a href="{% url 'create_request' %}">+ Request</a>
      <a href="{% url 'patient_login' %}">Patient Login</a>
      <a href="{% url 'patient_register' %}">Register</a>
      <a href="{% url 'helper_login' %}">Helper Login</a>
    </div>
    <button class="fab" id="mobileCreateToggle">â˜°</button>
  </div>

  <script>
    (function(){
      const css = `
        .mobile-create{position:fixed;right:16px;bottom:18px;z-index:1100}
        .mobile-create .fab{width:56px;height:56px;border-radius:999px;background:#16a34a;color:#fff;border:none;display:flex;align-items:center;justify-content:center;font-size:22px;box-shadow:0 8px 20px rgba(0,0,0,0.3);}
        .mobile-create .menu{position:absolute;right:0;bottom:70px;display:flex;flex-direction:column;gap:10px}
        .mobile-create .menu a{background:#fff;color:#111;padding:10px 14px;border-radius:12px;text-decoration:none;box-shadow:0 6px 18px rgba(0,0,0,0.12);font-weight:600}
        @media(min-width:641px){.mobile-create{display:none}}
      `;
      const s=document.createElement('style');s.appendChild(document.createTextNode(css));document.head.appendChild(s);
      const btn=document.getElementById('mobileCreateToggle');const menu=document.getElementById('mobileCreateMenu');
      if(btn){btn.addEventListener('click',()=>{menu.style.display=menu.style.display==='flex'?'none':'flex'})
      document.addEventListener('click',(e)=>{if(!e.target.closest('#mobileCreate') ) menu.style.display='none'})}
    })();
  </script>
</body>
</html>
